# Nextra „Åß Docs „Çµ„Ç§„Éà„Çí‰Ωú„Çã

ÊúÄÂ∞èÊßãÊàê„ÅÆ [Nextra](https://nextra.site/) „Çí [Github](https://github.com/) ÁµåÁî±„Åß [Vercel](https://vercel.com/) „Å´„Éá„Éó„É≠„Ç§„Åô„Çã

## Flow

### „É™„Éù„Ç∏„Éà„É™„ÅÆ‰ΩúÊàê

Ôºàpnpm „Çí„Ç§„É≥„Çπ„Éà„Éº„É´Ôºâ

```ps
npm i -g pnpm
```

„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Éá„Ç£„É¨„ÇØ„Éà„É™„Çí‰ΩúÊàê

```ps
ni <<PROJECT_NAME>> -type dir
```

```ps
cd <<PROJECT_NAME>>
```

Git „ÇíÂàùÊúüÂåñ

```ps
git init
```

`.gitignore` „Çí‰ΩúÊàê

```ps
ni .gitignore
```

```.gitignore filename=".gitignore"
.git
.next
node_modules
```

„Éë„ÉÉ„Ç±„Éº„Ç∏„Çí„Ç§„É≥„Çπ„Éà„Éº„É´

```ps
pnpm add next react react-dom nextra nextra-theme-docs
```

‰ΩúÊàê„Åï„Çå„Åü `package.json` „Å´ `scripts` „ÇíËøΩË®ò

```json filename="package.json"
"scripts": {
  "dev": "next",
  "build": "next build",
  "start": "next start"
},
```

`next.config.js` „Çí‰ΩúÊàê

```ps
ni next.config.js
```

```js filename="next.config.js"
const withNextra = require("nextra")({
  theme: "nextra-theme-docs",
  themeConfig: "./theme.config.jsx",
});

module.exports = withNextra();

// If you have other Next.js configurations, you can pass them as the parameter:
// module.exports = withNextra({ /* other next.js config */ })
```

`theme.config.jsx` „Çí‰ΩúÊàê

```ps
ni theme.config.jsx
```

```jsx filename="theme.config.jsx"
export default {
  logo: <span>My Nextra Documentation</span>,
  project: {
    link: "https://github.com/<<GITHUB_USERNAME>>/<<PROJECT_NAME>>/",
  },
  docsRepositoryBase:
    "https://github.com/<<GITHUB_USERNAME>>/<<PROJECT_NAME>>/tree/<<DEPLOY_BRANCH>>/",
  // ... other theme options
};
```

index „Éö„Éº„Ç∏„ÇíËøΩÂä†

```ps
ni pages/index.mdx -force
```

```mdx filename="pages/index.mdx"
# Welcome to Nextra

Hello, world!
```

Â§âÊõ¥„Çí„Ç≥„Éü„ÉÉ„Éà„Åó„ÄÅ„É™„Éù„Ç∏„Éà„É™„Çí [Github „Å∏„Éó„ÉÉ„Ç∑„É•](https://docs.github.com/ja/migrations/importing-source-code/using-the-command-line-to-import-source-code/adding-locally-hosted-code-to-github#importing-a-git-repository-with-the-command-line)

```ps
git add *
git commit -m "first commit"
```

### Vercel „Å∏„ÅÆ„Éá„Éó„É≠„Ç§

[Vercel](https://vercel.com/) „Å´„É≠„Ç∞„Ç§„É≥„Åô„Çã

`Add new project` „ÇíÈÅ∏Êäû„Åô„Çã\
`Import Git Repository` „Åß ‰ΩúÊàê„Åó„Åü„É™„Éù„Ç∏„Éà„É™„ÇíÈÅ∏Êäû„Åô„Çã\
`Deploy` „Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÈñãÂßã

‰Ωï‰∫ã„ÇÇ„Å™„ÅèÂÆå‰∫Ü„Åô„Çå„Å∞„ÄÅ„Éá„Éó„É≠„Ç§„ÅØÊàêÂäüüéâ

## Note

### „Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞Êó•ÊôÇ„ÅåË°®Á§∫„Åï„Çå„Å™„ÅÑ

Êõ¥Êñ∞„Åã„ÇâÊï∞Êó•Áµå„Å£„Åü„Éö„Éº„Ç∏„Å™„Å©„Åß„ÄÅgitTimestamp „Åå‰ªò‰∏é„Åï„Çå„Å™„Åè„Å™„Çã„Åì„Å®„Åå„ÅÇ„Çã\
„Éá„Éï„Ç©„É´„Éà„Åß„ÅØ shallow clone „Åï„Çå„Çã„Åì„Å®„ÅåÂéüÂõ†

Vercel „Å´‰ΩúÊàê„Åï„Çå„Åü„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆ `Settings` „ÇíÈñã„Åè\
`Environment Variables` „ÇíÈñã„Åç„ÄÅ‰ª•‰∏ã„ÅÆÁí∞Â¢ÉÂ§âÊï∞„ÇíËøΩÂä†„Åô„Çã\
deep clone „Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„ÄÅÂêÑ„Éö„Éº„Ç∏„ÅÆÊõ¥Êñ∞Êó•ÊôÇ„Åå Git „ÅÆ„Ç≥„Éü„ÉÉ„ÉàÊó•ÊôÇ„Åã„ÇâÂèñÂæó„ÉªË°®Á§∫„Åï„Çå„Çã

| Key               | Value |
| ----------------- | ----- |
| VERCEL_DEEP_CLONE | true  |

- [2023/10/2 15:14:39 „ÅÆ„Éé„Éº„Éà | Misskey.io](https://misskey.io/notes/9kc28mo8sk)

### `_meta.json` „ÇíÊõ¥Êñ∞„Åó„Å¶„ÇÇÂèçÊò†„Åï„Çå„Å™„ÅÑ

`_meta.json` „ÇíÊõ¥Êñ∞„Åó„Å¶„ÄÅ„Çµ„Ç§„Éâ„Éê„Éº„Å´Ë°®Á§∫„Åï„Çå„ÇãË®ò‰∫ã„ÅÆÈ†ÜÂ∫è„ÇíÂ§âÊõ¥„Åó„Çà„ÅÜ„Å®„Åó„Å¶„ÇÇ„ÄÅÂèçÊò†„Åï„Çå„Å™„ÅÑÂ†¥Âêà„Åå„ÅÇ„Çã\
Vercel „ÅÆ„Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆÂïèÈ°å„Çâ„Åó„Åè„ÄÅ‰ª•‰∏ã„ÅÆÊâãÈ†Ü„ÅßÂèçÊò†„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Çã

1. Êõ¥Êñ∞ÂÜÖÂÆπ„Çí GitHub „Å´ Push Âæå„ÄÅËá™Âãï„Éá„Éó„É≠„Ç§„ÅÆÂÆå‰∫Ü„ÇíÂæÖ„Å§
2. Vercel „ÅÆ Deployments „Åã„ÇâÊúÄÊñ∞„Ç≥„Éü„ÉÉ„Éà„ÅÆ `Redeploy` „ÇíÈÅ∏Êäû„Åó„ÄÅ`‚ÄãUse existing Build Cache` „ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„Çí**Â§ñ„Åó„Å¶**ÈñãÂßã„Åô„Çã

Ê†πÊú¨ÁöÑ„Å™Ëß£Ê±∫„Å´„ÅØËá≥„Å£„Å¶„ÅÑ„Å™„ÅÑÊ®°Êßò

- [Old Sidebar is shown in the page until the page is updated manually - feedback for the team ¬∑ Issue #1806 ¬∑ shuding/nextra](https://github.com/shuding/nextra/issues/1806)
- [Vercel caching issue ¬∑ Issue #1564 ¬∑ shuding/nextra](https://github.com/shuding/nextra/issues/1564)

### InvalidCharacterError: Failed to execute 'add' on 'DOMTokenList'

‰ª•‰∏ã„ÅÆ„ÇØ„ÇΩÈï∑„ÅÑ„Ç®„É©„Éº„ÅÆ„Åü„ÇÅ„ÄÅLocal Áí∞Â¢É„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü\
ÂéüÂõ†„ÅØ localhost:3000 „ÅÆ„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´ theme values „Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åü„Åì„Å®Ôºà„ÅÑ„Å§„ÅÆÈñì„Å´Ôºâ

Chrome „ÅÆÈñãÁô∫ËÄÖ„ÉÑ„Éº„É´„Åã„Çâ\
„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ > „Çπ„Éà„É¨„Éº„Ç∏ > „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏ > `http://localhost:3000`\
„ÇíÂè≥„ÇØ„É™„ÉÉ„ÇØ„Åó **Ê∂àÂéª** „Åô„Çã„Åì„Å®„ÅßËß£Ê±∫

```text
Unhandled Runtime Error
InvalidCharacterError: Failed to execute 'add' on 'DOMTokenList': The token provided ('{"accent":"rgb(113, 136, 217)","accentDarken":"rgb(73, 102, 206)","accentLighten":"rgb(153, 170, 228)","accentedBg":"rgba(113, 136, 217, 0.15)","focus":"rgba(113, 136, 217, 0.3)","bg":"rgb(32, 34, 37)","acrylicBg":"rgba(32, 34, 37, 0.5)","fg":"rgb(228, 228, 228)","fgTransparentWeak":"rgba(228, 228, 228, 0.75)","fgTransparent":"rgba(228, 228, 228, 0.5)","fgHighlighted":"rgb(255, 255, 255)","fgOnAccent":"rgb(255, 255, 255)","fgOnWhite":"rgb(51, 51, 51)","divider":"rgba(255, 255, 255, 0.1)","indicator":"rgb(113, 136, 217)","panel":"rgb(54, 57, 63)","panelHighlight":"rgb(61, 64, 71)","panelHeaderBg":"rgb(61, 64, 71)","panelHeaderFg":"rgb(228, 228, 228)","panelHeaderDivider":"rgba(0, 0, 0, 0)","panelBorder":"solid 1px var(--divider)","acrylicPanel":"rgba(54, 57, 63, 0.5)","windowHeader":"rgba(54, 57, 63, 0.85)","popup":"rgb(61, 64, 71)","shadow":"rgba(0, 0, 0, 0.3)","header":"rgb(47, 49, 54)","navBg":"rgb(47, 49, 54)","navFg":"rgb(142, 146, 151)","navHoverFg":"rgb(220, 221, 222)","navActive":"rgb(255, 255, 255)","navIndicator":"rgb(113, 136, 217)","link":"rgb(0, 176, 244)","hashtag":"rgb(113, 136, 217)","mention":"rgb(113, 136, 217)","mentionMe":"rgb(113, 136, 217)","renote":"rgb(67, 181, 129)","modalBg":"rgba(0, 0, 0, 0.5)","scrollbarHandle":"rgb(32, 34, 37)","scrollbarHandleHover":"rgba(255, 255, 255, 0.4)","dateLabelFg":"rgb(228, 228, 228)","infoBg":"rgb(37, 49, 66)","infoFg":"rgb(255, 255, 255)","infoWarnBg":"rgb(66, 50, 28)","infoWarnFg":"rgb(255, 189, 62)","switchBg":"rgba(255, 255, 255, 0.15)","buttonBg":"rgba(255, 255, 255, 0.05)","buttonHoverBg":"rgba(255, 255, 255, 0.1)","buttonGradateA":"rgb(113, 136, 217)","buttonGradateB":"rgb(125, 113, 217)","switchOffBg":"rgba(255, 255, 255, 0.1)","switchOffFg":"rgba(228, 228, 228, 0.8)","switchOnBg":"rgba(113, 136, 217, 0.15)","switchOnFg":"rgb(113, 136, 217)","inputBorder":"rgba(255, 255, 255, 0.1)","inputBorderHover":"rgba(255, 255, 255, 0.2)","listItemHoverBg":"rgba(255, 255, 255, 0.03)","driveFolderBg":"rgba(113, 136, 217, 0.3)","wallpaperOverlay":"rgba(0, 0, 0, 0.5)","badge":"rgb(49, 177, 206)","messageBg":"rgb(32, 34, 37)","success":"rgb(134, 179, 0)","error":"rgb(236, 65, 55)","warn":"rgb(236, 182, 55)","codeString":"rgb(255, 182, 117)","codeNumber":"rgb(207, 255, 158)","codeBoolean":"rgb(197, 158, 255)","deckBg":"rgb(0, 0, 0)","htmlThemeColor":"rgb(32, 34, 37)","X2":"rgb(49, 52, 58)","X3":"rgba(255, 255, 255, 0.05)","X4":"rgba(255, 255, 255, 0.1)","X5":"rgba(255, 255, 255, 0.05)","X6":"rgba(255, 255, 255, 0.15)","X7":"rgba(255, 255, 255, 0.05)","X8":"rgb(133, 153, 222)","X9":"rgb(93, 119, 212)","X10":"rgba(113, 136, 217, 0.4)","X11":"rgba(0, 0, 0, 0.3)","X12":"rgba(255, 255, 255, 0.1)","X13":"rgba(255, 255, 255, 0.15)","X14":"rgba(47, 49, 54, 0.5)","X15":"rgba(54, 57, 63, 0)","X16":"rgba(54, 57, 63, 0.7)","X17":"rgba(32, 34, 37, 0.8)"}') contains HTML space characters, which are not valid in tokens.
```

- [X „É¶„Éº„Ç∂„Éº„ÅÆ Nadia „Åï„Çì: „ÄåWondering why I'm getting this error when running Nextra docs template on local. I haven't modified anything. It runs in production. Then I remember I stored theme values in local storage for my personal site. Turns out deleting local storage data is the solution ¬Ø\(„ÉÑ)/¬Ø„Äç / X](https://twitter.com/nadiannis/status/1672962849562570753)

## Ref

- [Docs Theme - Nextra](https://nextra.site/docs/docs-theme/start)
- [New-Item (Microsoft.PowerShell.Management) - PowerShell | Microsoft Learn](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.management/new-item)
