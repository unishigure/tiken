import { Callout } from "nextra/components";

# Nextra ã§ Docs ã‚µã‚¤ãƒˆã‚’ä½œã‚‹

<Callout type="error" emoji="ï¸ğŸš«">
  ç¾åœ¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€€åŸå› ä¸æ˜\
  Vercel ä¸Šã§ã¯æ­£å¸¸ã«å‹•ä½œã™ã‚‹
  ```text
  InvalidCharacterError: Failed to execute 'add' on 'DOMTokenList': The token provided ('...') contains HTML space characters, which are not valid in tokens.
  ```
</Callout>

æœ€å°æ§‹æˆã® [Nextra](https://nextra.site/) ã‚’ [Github](https://github.com/) çµŒç”±ã§ [Vercel](https://vercel.com/) ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹

## Flow

### ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ

ï¼ˆ`pnpm`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰

```ps
npm i -g pnpm
```

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ

```ps
ni <<PROJECT_NAME>> -type dir
```

```ps
cd <<PROJECT_NAME>>
```

Git ã‚’åˆæœŸåŒ–

```ps
git init
```

`.gitignore` ã‚’ä½œæˆ

```ps
ni .gitignore
```

```.gitignore filename=".gitignore"
.git
.next
node_modules
```

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```ps
pnpm add next react react-dom nextra nextra-theme-docs
```

ä½œæˆã•ã‚ŒãŸ `package.json` ã« `scripts` ã‚’è¿½è¨˜

```json filename="package.json"
"scripts": {
  "dev": "next",
  "build": "next build",
  "start": "next start"
},
```

`next.config.js` ã‚’ä½œæˆ

```ps
ni next.config.js
```

```js filename="next.config.js"
const withNextra = require("nextra")({
  theme: "nextra-theme-docs",
  themeConfig: "./theme.config.jsx",
});

module.exports = withNextra();

// If you have other Next.js configurations, you can pass them as the parameter:
// module.exports = withNextra({ /* other next.js config */ })
```

`theme.config.jsx` ã‚’ä½œæˆ

```ps
ni theme.config.jsx
```

```jsx filename="theme.config.jsx"
export default {
  logo: <span>My Nextra Documentation</span>,
  project: {
    link: "https://github.com/<<GITHUB_USERNAME>>/<<PROJECT_NAME>>/",
  },
  docsRepositoryBase: "https://github.com/<<GITHUB_USERNAME>>/<<PROJECT_NAME>>/tree/<<DEPLOY_BRANCH>>/",
// ... other theme options
};
```

index ãƒšãƒ¼ã‚¸ã‚’è¿½åŠ 

```ps
ni pages/index.mdx -force
```

```mdx filename="pages/index.mdx"
# Welcome to Nextra

Hello, world!
```

ãƒªãƒã‚¸ãƒˆãƒªã‚’ Github ã¸ãƒ—ãƒƒã‚·ãƒ¥

```ps
git add *
git commit -m "first commit"
```

### Vercel ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

[Vercel](https://vercel.com/) ã«ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹

Add new project ã‚’é¸æŠã™ã‚‹\
Import Git Repository ã§ ä½œæˆã—ãŸãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã™ã‚‹\
Deploy ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦é–‹å§‹

Deploy ãŒå®Œäº†ã—ãŸã‚‰ã€ä½œæˆã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã® Settings ã‚’é–‹ã\
Environment Variables ã‚’é–‹ãã€ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ ã™ã‚‹\
ãƒ‡ã‚£ãƒ¼ãƒ—ã‚¯ãƒ­ãƒ¼ãƒ³ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€å„è¨˜äº‹ã®æ›´æ–°æ—¥æ™‚ãŒ Git ã®ã‚³ãƒŸãƒƒãƒˆæ—¥æ™‚ã‹ã‚‰å–å¾—ãƒ»è¡¨ç¤ºã•ã‚Œã‚‹

| Key               | Value |
| ----------------- | ----- |
| VERCEL_DEEP_CLONE | true  |

## Note

### `_meta.json` ã‚’æ›´æ–°ã—ã¦ã‚‚åæ˜ ã•ã‚Œãªã„

`_meta.json` ã‚’æ›´æ–°ã—ã¦ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹è¨˜äº‹ã®é †åºã‚’å¤‰æ›´ã—ã‚ˆã†ã¨ã—ã¦ã‚‚ã€åæ˜ ã•ã‚Œãªã„å ´åˆãŒã‚ã‚‹\
Vercel ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å•é¡Œã‚‰ã—ãã€ä»¥ä¸‹ã®æ‰‹é †ã§åæ˜ ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹

1. æ›´æ–°å†…å®¹ã‚’ GitHub ã« Push å¾Œã€è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã®å®Œäº†ã‚’å¾…ã¤
2. Vercel ã® Deployments ã‹ã‚‰æœ€æ–°ã‚³ãƒŸãƒƒãƒˆã® `Redeploy` ã‚’é¸æŠã—ã€`â€‹Use existing Build Cache` ã®ãƒã‚§ãƒƒã‚¯ã‚’**å¤–ã—ã¦**é–‹å§‹ã™ã‚‹

æ ¹æœ¬çš„ãªè§£æ±ºã«ã¯è‡³ã£ã¦ã„ãªã„æ¨¡æ§˜

- [Old Sidebar is shown in the page until the page is updated manually - feedback for the team Â· Issue #1806 Â· shuding/nextra](https://github.com/shuding/nextra/issues/1806)
- [Vercel caching issue Â· Issue #1564 Â· shuding/nextra](https://github.com/shuding/nextra/issues/1564)

## Ref

- [Docs Theme - Nextra](https://nextra.site/docs/docs-theme/start)
- [New-Item (Microsoft.PowerShell.Management) - PowerShell | Microsoft Learn](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.management/new-item)
- [2023/10/2 15:14:39 ã®ãƒãƒ¼ãƒˆ | Misskey.io](https://misskey.io/notes/9kc28mo8sk)
